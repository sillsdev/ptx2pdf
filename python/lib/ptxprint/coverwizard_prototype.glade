<?xml version="1.0" encoding="UTF-8"?>
<interface>
  <requires lib="gtk+" version="3.20"/>

  <!-- =========================
       Main Window
       ========================= -->
  <object class="GtkWindow" id="w_coverwizard">
    <property name="title" translatable="yes">Cover Wizard Prototype</property>
    <property name="default_width">1020</property>
    <property name="default_height">680</property>
    <property name="border_width">12</property>

    <child>
      <object class="GtkBox" id="bx_root">
        <property name="orientation">vertical</property>
        <property name="spacing">10</property>

        <!-- Header -->
        <child>
          <object class="GtkBox" id="bx_header">
            <property name="orientation">horizontal</property>
            <property name="spacing">8</property>

            <child>
              <object class="GtkImage" id="img_header">
                <property name="icon_name">insert-image-symbolic</property>
                <property name="pixel_size">20</property>
              </object>
            </child>

            <child>
              <object class="GtkLabel" id="l_header">
                <property name="xalign">0</property>
                <property name="wrap">True</property>
                <property name="label" translatable="yes">A guided cover wizard for translators</property>
                <attributes>
                  <attribute name="weight" value="bold"/>
                  <attribute name="scale" value="1.10"/>
                </attributes>
              </object>
            </child>
          </object>
        </child>

        <!-- Progress line -->
        <child>
          <object class="GtkBox" id="bx_progress">
            <property name="orientation">horizontal</property>
            <property name="spacing">8</property>

            <child>
              <object class="GtkLabel" id="l_progress">
                <property name="xalign">0</property>
                <property name="wrap">True</property>
                <property name="label" translatable="yes">Step 1 of 7 — Spine</property>
                <attributes>
                  <attribute name="weight" value="bold"/>
                </attributes>
              </object>
            </child>
          </object>
        </child>

        <!-- Main area: left wizard stack, right preview -->
        <!-- NOTE: GtkPaned removed to eliminate unwanted separator line (per requirement #9). -->
        <child>
          <object class="GtkBox" id="bx_mainrow">
            <property name="orientation">horizontal</property>
            <property name="spacing">0</property>

            <!-- Left side -->
            <child>
              <object class="GtkBox" id="bx_left">
                <property name="orientation">vertical</property>
                <property name="spacing">8</property>
                <property name="hexpand">True</property>
                <property name="vexpand">True</property>
                <!-- Requirement #2: add right margin gap -->
                <property name="margin_end">12</property>

                <child>
                  <object class="GtkStack" id="st_steps">
                    <property name="transition_type">slide-left-right</property>
                    <property name="transition_duration">180</property>
                    <property name="hexpand">True</property>
                    <property name="vexpand">True</property>

                    <!-- ================= Step 1: Spine decision ================= -->
                    <child>
                      <object class="GtkBox" id="pg_step1_spine">
                        <property name="orientation">vertical</property>
                        <property name="spacing">10</property>

                        <child>
                          <object class="GtkLabel" id="l_step1_title">
                            <property name="xalign">0</property>
                            <property name="label" translatable="yes">Will this book have a spine?</property>
                            <attributes>
                              <attribute name="weight" value="bold"/>
                              <attribute name="scale" value="1.15"/>
                            </attributes>
                          </object>
                        </child>

                        <child>
                          <object class="GtkFrame" id="fr_step1">
                            <property name="shadow_type">in</property>
                            <child>
                              <object class="GtkBox" id="bx_step1_inner">
                                <property name="orientation">vertical</property>
                                <property name="spacing">10</property>
                                <property name="margin_start">10</property>
                                <property name="margin_end">10</property>
                                <property name="margin_top">10</property>
                                <property name="margin_bottom">10</property>

                                <child>
                                  <object class="GtkBox" id="bx_pagecount">
                                    <property name="orientation">horizontal</property>
                                    <property name="spacing">8</property>

                                    <child>
                                      <object class="GtkLabel" id="l_pagecount">
                                        <property name="label" translatable="yes">Page count:</property>
                                        <property name="xalign">0</property>
                                      </object>
                                    </child>

                                    <child>
                                      <object class="GtkEntry" id="t_pagecount">
                                        <property name="width_chars">6</property>
                                        <property name="text">0</property>
                                        <signal name="changed" handler="on_t_pagecount_changed" swapped="no"/>
                                      </object>
                                    </child>

                                    <child>
                                      <object class="GtkLabel" id="l_spinehint">
                                        <property name="xalign">0</property>
                                        <property name="wrap">True</property>
                                        <property name="label" translatable="yes">Typically spine text is only used at ~80+ pages.</property>
                                      </object>
                                    </child>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkRadioButton" id="r_spine_no">
                                    <property name="label" translatable="yes">No (thin booklet / under ~80 pages)</property>
                                    <property name="active">True</property>
                                    <signal name="toggled" handler="on_r_spine_no_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkRadioButton" id="r_spine_yes">
                                    <property name="group">r_spine_no</property>
                                    <property name="label" translatable="yes">Yes (printed book with spine)</property>
                                    <signal name="toggled" handler="on_r_spine_yes_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkLabel" id="l_step1_microcopy">
                                    <property name="xalign">0</property>
                                    <property name="wrap">True</property>
                                    <property name="label" translatable="yes">This only affects the physical layout: 2 panels (front/back) or 3 panels (front/spine/back). You can change it later.</property>
                                  </object>
                                </child>

                              </object>
                            </child>
                          </object>
                        </child>

                      </object>
                      <packing>
                        <property name="name">pg_step1_spine</property>
                        <property name="title" translatable="yes">Spine</property>
                      </packing>
                    </child>

                    <!-- ================= Step 2: Coverage patterns ================= -->
                    <child>
                      <object class="GtkBox" id="pg_step2_coverage">
                        <property name="orientation">vertical</property>
                        <property name="spacing">10</property>

                        <child>
                          <object class="GtkLabel" id="l_step2_title">
                            <property name="xalign">0</property>
                            <property name="label" translatable="yes">Where should the main picture/decoration appear?</property>
                            <attributes>
                              <attribute name="weight" value="bold"/>
                              <attribute name="scale" value="1.15"/>
                            </attributes>
                          </object>
                        </child>

                        <child>
                          <object class="GtkFrame" id="fr_step2">
                            <property name="shadow_type">in</property>
                            <child>
                              <object class="GtkBox" id="bx_step2_inner">
                                <property name="orientation">vertical</property>
                                <property name="spacing">10</property>
                                <property name="margin_start">10</property>
                                <property name="margin_end">10</property>
                                <property name="margin_top">10</property>
                                <property name="margin_bottom">10</property>

                                <child>
                                  <object class="GtkLabel" id="l_step2_microcopy">
                                    <property name="xalign">0</property>
                                    <property name="wrap">True</property>
                                    <property name="label" translatable="yes">Think in surfaces: whole spread, front, spine, back. Choose how the artwork “covers” those surfaces. (Images are simulated in this prototype.)</property>
                                  </object>
                                </child>

                                <!-- Requirement #7: this label is adjusted dynamically in Python based on spine on/off -->
                                <child>
                                  <object class="GtkRadioButton" id="r_cov_wrap_all">
                                    <property name="label" translatable="yes">Wrap all (one image across front + spine + back)</property>
                                    <property name="active">True</property>
                                    <signal name="toggled" handler="on_r_cov_wrap_all_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkRadioButton" id="r_cov_front_only">
                                    <property name="group">r_cov_wrap_all</property>
                                    <property name="label" translatable="yes">Front only</property>
                                    <signal name="toggled" handler="on_r_cov_front_only_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkRadioButton" id="r_cov_front_spine">
                                    <property name="group">r_cov_wrap_all</property>
                                    <property name="label" translatable="yes">Front + spine</property>
                                    <signal name="toggled" handler="on_r_cov_front_spine_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkRadioButton" id="r_cov_back_only">
                                    <property name="group">r_cov_wrap_all</property>
                                    <property name="label" translatable="yes">Back only</property>
                                    <signal name="toggled" handler="on_r_cov_back_only_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkRadioButton" id="r_cov_back_spine">
                                    <property name="group">r_cov_wrap_all</property>
                                    <property name="label" translatable="yes">Back + spine</property>
                                    <signal name="toggled" handler="on_r_cov_back_spine_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkRadioButton" id="r_cov_front_back_separate">
                                    <property name="group">r_cov_wrap_all</property>
                                    <property name="label" translatable="yes">Front/back separate (different artwork on front and back)</property>
                                    <signal name="toggled" handler="on_r_cov_front_back_separate_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkRadioButton" id="r_cov_none">
                                    <property name="group">r_cov_wrap_all</property>
                                    <property name="label" translatable="yes">None (no image — plain)</property>
                                    <signal name="toggled" handler="on_r_cov_none_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <!-- Requirement #1: coverage diagram removed -->

                              </object>
                            </child>
                          </object>
                        </child>

                      </object>
                      <packing>
                        <property name="name">pg_step2_coverage</property>
                        <property name="title" translatable="yes">Coverage</property>
                      </packing>
                    </child>

                    <!-- ================= Step 3: Background ================= -->
                    <child>
                      <object class="GtkBox" id="pg_step3_background">
                        <property name="orientation">vertical</property>
                        <property name="spacing">10</property>

                        <child>
                          <object class="GtkLabel" id="l_step3_title">
                            <property name="xalign">0</property>
                            <property name="label" translatable="yes">Do you want a colour or shading behind everything?</property>
                            <attributes>
                              <attribute name="weight" value="bold"/>
                              <attribute name="scale" value="1.15"/>
                            </attributes>
                          </object>
                        </child>

                        <child>
                          <object class="GtkFrame" id="fr_step3">
                            <property name="shadow_type">in</property>
                            <child>
                              <object class="GtkBox" id="bx_step3_inner">
                                <property name="orientation">vertical</property>
                                <property name="spacing">10</property>
                                <property name="margin_start">10</property>
                                <property name="margin_end">10</property>
                                <property name="margin_top">10</property>
                                <property name="margin_bottom">10</property>

                                <child>
                                  <object class="GtkRadioButton" id="r_bg_white">
                                    <property name="label" translatable="yes">White</property>
                                    <property name="active">True</property>
                                    <signal name="toggled" handler="on_r_bg_white_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkRadioButton" id="r_bg_solid">
                                    <property name="group">r_bg_white</property>
                                    <property name="label" translatable="yes">Solid colour</property>
                                    <signal name="toggled" handler="on_r_bg_solid_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkBox" id="bx_bgcolor">
                                    <property name="orientation">horizontal</property>
                                    <property name="spacing">8</property>
                                    <property name="margin_start">24</property>

                                    <child>
                                      <object class="GtkLabel" id="l_bgcolor">
                                        <property name="label" translatable="yes">Choose colour:</property>
                                        <property name="xalign">0</property>
                                      </object>
                                    </child>

                                    <child>
                                      <object class="GtkColorButton" id="cb_bgcolor">
                                        <signal name="color-set" handler="on_cb_bgcolor_color_set" swapped="no"/>
                                      </object>
                                    </child>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkRadioButton" id="r_bg_gradient">
                                    <property name="group">r_bg_white</property>
                                    <property name="label" translatable="yes">Simple gradient / shading</property>
                                    <signal name="toggled" handler="on_r_bg_gradient_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkLabel" id="l_step3_microcopy">
                                    <property name="xalign">0</property>
                                    <property name="wrap">True</property>
                                    <property name="label" translatable="yes">This affects the whole spread. You can keep it white and still use artwork coverage from the previous step.</property>
                                  </object>
                                </child>

                              </object>
                            </child>
                          </object>
                        </child>

                      </object>
                      <packing>
                        <property name="name">pg_step3_background</property>
                        <property name="title" translatable="yes">Background</property>
                      </packing>
                    </child>

                    <!-- ================= Step 4: Front content ================= -->
                    <child>
                      <object class="GtkBox" id="pg_step4_front">
                        <property name="orientation">vertical</property>
                        <property name="spacing">10</property>

                        <child>
                          <object class="GtkLabel" id="l_step4_title">
                            <property name="xalign">0</property>
                            <property name="label" translatable="yes">Front content</property>
                            <attributes>
                              <attribute name="weight" value="bold"/>
                              <attribute name="scale" value="1.15"/>
                            </attributes>
                          </object>
                        </child>

                        <child>
                          <object class="GtkFrame" id="fr_step4">
                            <property name="shadow_type">in</property>
                            <child>
                              <object class="GtkBox" id="bx_step4_inner">
                                <property name="orientation">vertical</property>
                                <property name="spacing">10</property>
                                <property name="margin_start">10</property>
                                <property name="margin_end">10</property>
                                <property name="margin_top">10</property>
                                <property name="margin_bottom">10</property>

                                <child>
                                  <object class="GtkLabel" id="l_title_label">
                                    <property name="xalign">0</property>
                                    <property name="label" translatable="yes">Title (required)</property>
                                    <attributes>
                                      <attribute name="weight" value="bold"/>
                                    </attributes>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkEntry" id="t_title">
                                    <property name="placeholder_text" translatable="yes">Enter the title</property>
                                    <signal name="changed" handler="on_t_title_changed" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkCheckButton" id="c_subtitle_enable">
                                    <property name="label" translatable="yes">Subtitle</property>
                                    <signal name="toggled" handler="on_c_subtitle_enable_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkRevealer" id="rv_subtitle">
                                    <property name="reveal_child">False</property>
                                    <property name="transition_type">slide-down</property>
                                    <child>
                                      <object class="GtkEntry" id="t_subtitle">
                                        <property name="margin_start">24</property>
                                        <property name="placeholder_text" translatable="yes">Enter the subtitle</property>
                                        <signal name="changed" handler="on_t_subtitle_changed" swapped="no"/>
                                      </object>
                                    </child>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkCheckButton" id="c_langname_enable">
                                    <property name="label" translatable="yes">Language / Translation name</property>
                                    <signal name="toggled" handler="on_c_langname_enable_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkRevealer" id="rv_langname">
                                    <property name="reveal_child">False</property>
                                    <property name="transition_type">slide-down</property>
                                    <child>
                                      <object class="GtkEntry" id="t_langname">
                                        <property name="margin_start">24</property>
                                        <property name="placeholder_text" translatable="yes">e.g., “Karamojong (NT 2025)”</property>
                                        <signal name="changed" handler="on_t_langname_changed" swapped="no"/>
                                      </object>
                                    </child>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkFrame" id="fr_titleplace">
                                    <property name="label" translatable="yes">Title placement</property>
                                    <property name="shadow_type">in</property>
                                    <child>
                                      <object class="GtkBox" id="bx_titleplace">
                                        <property name="orientation">vertical</property>
                                        <property name="spacing">8</property>
                                        <property name="margin_start">10</property>
                                        <property name="margin_end">10</property>
                                        <property name="margin_top">10</property>
                                        <property name="margin_bottom">10</property>

                                        <child>
                                          <object class="GtkRadioButton" id="r_title_top">
                                            <property name="label" translatable="yes">Top</property>
                                            <signal name="toggled" handler="on_r_title_top_toggled" swapped="no"/>
                                          </object>
                                        </child>
                                        <child>
                                          <object class="GtkRadioButton" id="r_title_center">
                                            <property name="group">r_title_top</property>
                                            <property name="label" translatable="yes">Centered</property>
                                            <property name="active">True</property>
                                            <signal name="toggled" handler="on_r_title_center_toggled" swapped="no"/>
                                          </object>
                                        </child>
                                        <child>
                                          <object class="GtkRadioButton" id="r_title_bottom">
                                            <property name="group">r_title_top</property>
                                            <property name="label" translatable="yes">Bottom</property>
                                            <signal name="toggled" handler="on_r_title_bottom_toggled" swapped="no"/>
                                          </object>
                                        </child>
                                        <child>
                                          <object class="GtkRadioButton" id="r_title_box">
                                            <property name="group">r_title_top</property>
                                            <property name="label" translatable="yes">Title box</property>
                                            <signal name="toggled" handler="on_r_title_box_toggled" swapped="no"/>
                                          </object>
                                        </child>

                                      </object>
                                    </child>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkLabel" id="l_step4_microcopy">
                                    <property name="xalign">0</property>
                                    <property name="wrap">True</property>
                                    <property name="label" translatable="yes">As you type, the preview updates immediately. The highlighted panel shows what you’re editing now.</property>
                                  </object>
                                </child>

                              </object>
                            </child>
                          </object>
                        </child>

                      </object>
                      <packing>
                        <property name="name">pg_step4_front</property>
                        <property name="title" translatable="yes">Front</property>
                      </packing>
                    </child>

                    <!-- ================= Step 5: Spine content (conditional) ================= -->
                    <child>
                      <object class="GtkBox" id="pg_step5_spinecontent">
                        <property name="orientation">vertical</property>
                        <property name="spacing">10</property>

                        <child>
                          <object class="GtkLabel" id="l_step5_title">
                            <property name="xalign">0</property>
                            <property name="label" translatable="yes">Spine content</property>
                            <attributes>
                              <attribute name="weight" value="bold"/>
                              <attribute name="scale" value="1.15"/>
                            </attributes>
                          </object>
                        </child>

                        <child>
                          <object class="GtkFrame" id="fr_step5">
                            <property name="shadow_type">in</property>
                            <child>
                              <object class="GtkBox" id="bx_step5_inner">
                                <property name="orientation">vertical</property>
                                <property name="spacing">10</property>
                                <property name="margin_start">10</property>
                                <property name="margin_end">10</property>
                                <property name="margin_top">10</property>
                                <property name="margin_bottom">10</property>

                                <child>
                                  <object class="GtkCheckButton" id="c_spine_title">
                                    <property name="label" translatable="yes">Use title on spine</property>
                                    <property name="active">True</property>
                                    <signal name="toggled" handler="on_c_spine_title_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <!-- Requirement #6: subtitle option on spine -->
                                <child>
                                  <object class="GtkCheckButton" id="c_spine_subtitle">
                                    <property name="label" translatable="yes">Use subtitle on spine</property>
                                    <property name="active">False</property>
                                    <signal name="toggled" handler="on_c_spine_subtitle_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkCheckButton" id="c_spine_langname">
                                    <property name="label" translatable="yes">Use language/translation name on spine</property>
                                    <signal name="toggled" handler="on_c_spine_langname_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkExpander" id="ex_spine_advanced">
                                    <property name="label" translatable="yes">Advanced</property>
                                    <child>
                                      <object class="GtkBox" id="bx_spine_adv">
                                        <property name="orientation">vertical</property>
                                        <property name="spacing">8</property>
                                        <property name="margin_start">10</property>
                                        <property name="margin_end">10</property>
                                        <property name="margin_top">6</property>
                                        <property name="margin_bottom">6</property>

                                        <child>
                                          <object class="GtkLabel" id="l_spine_orient">
                                            <property name="xalign">0</property>
                                            <property name="label" translatable="yes">Text orientation</property>
                                            <attributes>
                                              <attribute name="weight" value="bold"/>
                                            </attributes>
                                          </object>
                                        </child>

                                        <!-- Requirement #4: two vertical options + one horizontal -->
                                        <child>
                                          <object class="GtkRadioButton" id="r_spine_text_v_ttb">
                                            <property name="label" translatable="yes">Vertical (top to bottom)</property>
                                            <property name="active">True</property>
                                            <signal name="toggled" handler="on_r_spine_text_v_ttb_toggled" swapped="no"/>
                                          </object>
                                        </child>

                                        <child>
                                          <object class="GtkRadioButton" id="r_spine_text_v_btt">
                                            <property name="group">r_spine_text_v_ttb</property>
                                            <property name="label" translatable="yes">Vertical (bottom to top)</property>
                                            <signal name="toggled" handler="on_r_spine_text_v_btt_toggled" swapped="no"/>
                                          </object>
                                        </child>

                                        <child>
                                          <object class="GtkRadioButton" id="r_spine_text_horizontal">
                                            <property name="group">r_spine_text_v_ttb</property>
                                            <property name="label" translatable="yes">Horizontal</property>
                                            <signal name="toggled" handler="on_r_spine_text_horizontal_toggled" swapped="no"/>
                                          </object>
                                        </child>

                                      </object>
                                    </child>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkLabel" id="l_step5_microcopy">
                                    <property name="xalign">0</property>
                                    <property name="wrap">True</property>
                                    <property name="label" translatable="yes">Spine text is optional and depends on printing. The preview shows a safe placeholder layout.</property>
                                  </object>
                                </child>

                              </object>
                            </child>
                          </object>
                        </child>
                      </object>
                      <packing>
                        <property name="name">pg_step5_spinecontent</property>
                        <property name="title" translatable="yes">Spine Content</property>
                      </packing>
                    </child>

                    <!-- ================= Step 6: Back content ================= -->
                    <child>
                      <object class="GtkBox" id="pg_step6_back">
                        <property name="orientation">vertical</property>
                        <property name="spacing">10</property>

                        <child>
                          <object class="GtkLabel" id="l_step6_title">
                            <property name="xalign">0</property>
                            <property name="label" translatable="yes">Back content</property>
                            <attributes>
                              <attribute name="weight" value="bold"/>
                              <attribute name="scale" value="1.15"/>
                            </attributes>
                          </object>
                        </child>

                        <child>
                          <object class="GtkFrame" id="fr_step6">
                            <property name="shadow_type">in</property>
                            <child>
                              <object class="GtkBox" id="bx_step6_inner">
                                <property name="orientation">vertical</property>
                                <property name="spacing">10</property>
                                <property name="margin_start">10</property>
                                <property name="margin_end">10</property>
                                <property name="margin_top">10</property>
                                <property name="margin_bottom">10</property>

                                <child>
                                  <object class="GtkCheckButton" id="c_backtext_enable">
                                    <property name="label" translatable="yes">Back cover text</property>
                                    <signal name="toggled" handler="on_c_backtext_enable_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkRevealer" id="rv_backtext">
                                    <property name="reveal_child">False</property>
                                    <property name="transition_type">slide-down</property>
                                    <child>
                                      <object class="GtkScrolledWindow" id="sw_backtext">
                                        <property name="height_request">140</property>
                                        <property name="margin_start">24</property>
                                        <child>
                                          <object class="GtkTextView" id="t_backtext">
                                            <property name="wrap_mode">word</property>
                                          </object>
                                        </child>
                                      </object>
                                    </child>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkCheckButton" id="c_isbn_enable">
                                    <property name="label" translatable="yes">ISBN barcode</property>
                                    <signal name="toggled" handler="on_c_isbn_enable_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkRevealer" id="rv_isbn">
                                    <property name="reveal_child">False</property>
                                    <property name="transition_type">slide-down</property>
                                    <child>
                                      <object class="GtkEntry" id="t_isbn">
                                        <property name="margin_start">24</property>
                                        <property name="placeholder_text" translatable="yes">Enter ISBN (e.g., 978-...)</property>
                                        <signal name="changed" handler="on_t_isbn_changed" swapped="no"/>
                                      </object>
                                    </child>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkCheckButton" id="c_logo_enable">
                                    <property name="label" translatable="yes">Logo (stub)</property>
                                    <signal name="toggled" handler="on_c_logo_enable_toggled" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkRevealer" id="rv_logo">
                                    <property name="reveal_child">False</property>
                                    <property name="transition_type">slide-down</property>
                                    <child>
                                      <object class="GtkBox" id="bx_logo_stub">
                                        <property name="orientation">horizontal</property>
                                        <property name="spacing">8</property>
                                        <property name="margin_start">24</property>
                                        <child>
                                          <object class="GtkButton" id="btn_logo_choose">
                                            <property name="label" translatable="yes">Choose file… (stub)</property>
                                            <signal name="clicked" handler="on_btn_logo_choose_clicked" swapped="no"/>
                                          </object>
                                        </child>
                                        <child>
                                          <object class="GtkLabel" id="l_logo_status">
                                            <property name="xalign">0</property>
                                            <property name="label" translatable="yes">No file selected</property>
                                          </object>
                                        </child>
                                      </object>
                                    </child>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkLabel" id="l_step6_microcopy">
                                    <property name="xalign">0</property>
                                    <property name="wrap">True</property>
                                    <property name="label" translatable="yes">The preview shows placeholders so you can see spacing without needing files.</property>
                                  </object>
                                </child>

                              </object>
                            </child>
                          </object>
                        </child>

                      </object>
                      <packing>
                        <property name="name">pg_step6_back</property>
                        <property name="title" translatable="yes">Back</property>
                      </packing>
                    </child>

                    <!-- ================= Step 7: Review ================= -->
                    <child>
                      <object class="GtkBox" id="pg_step7_review">
                        <property name="orientation">vertical</property>
                        <property name="spacing">10</property>

                        <child>
                          <object class="GtkLabel" id="l_step7_title">
                            <property name="xalign">0</property>
                            <property name="label" translatable="yes">Review &amp; finish</property>
                            <attributes>
                              <attribute name="weight" value="bold"/>
                              <attribute name="scale" value="1.15"/>
                            </attributes>
                          </object>
                        </child>

                        <child>
                          <object class="GtkFrame" id="fr_step7">
                            <property name="shadow_type">in</property>
                            <child>
                              <object class="GtkBox" id="bx_step7_inner">
                                <property name="orientation">vertical</property>
                                <property name="spacing">10</property>
                                <property name="margin_start">10</property>
                                <property name="margin_end">10</property>
                                <property name="margin_top">10</property>
                                <property name="margin_bottom">10</property>

                                <child>
                                  <object class="GtkLabel" id="l_summary">
                                    <property name="xalign">0</property>
                                    <property name="wrap">True</property>
                                    <property name="label" translatable="yes">Summary will appear here.</property>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkButton" id="btn_advanced">
                                    <property name="label" translatable="yes">Advanced settings…</property>
                                    <property name="sensitive">False</property>
                                    <signal name="clicked" handler="on_btn_advanced_clicked" swapped="no"/>
                                  </object>
                                </child>

                                <child>
                                  <object class="GtkLabel" id="l_step7_microcopy">
                                    <property name="xalign">0</property>
                                    <property name="wrap">True</property>
                                    <property name="label" translatable="yes">Finish will print state to console as JSON and save coverwizard_state.json.</property>
                                  </object>
                                </child>

                              </object>
                            </child>
                          </object>
                        </child>

                      </object>
                      <packing>
                        <property name="name">pg_step7_review</property>
                        <property name="title" translatable="yes">Review</property>
                      </packing>
                    </child>

                  </object>
                </child>
              </object>
            </child>

            <!-- Right side: live preview -->
            <child>
              <object class="GtkFrame" id="fr_preview">
                <property name="label" translatable="yes">Live preview</property>
                <property name="shadow_type">in</property>
                <property name="hexpand">True</property>
                <property name="vexpand">True</property>
                <child>
                  <object class="GtkBox" id="bx_preview">
                    <property name="orientation">vertical</property>
                    <property name="spacing">8</property>
                    <property name="margin_start">8</property>
                    <property name="margin_end">8</property>
                    <property name="margin_top">8</property>
                    <property name="margin_bottom">8</property>

                    <child>
                      <object class="GtkDrawingArea" id="da_preview">
                        <property name="hexpand">True</property>
                        <property name="vexpand">True</property>
                        <signal name="draw" handler="on_da_preview_draw" swapped="no"/>
                      </object>
                    </child>

                    <child>
                      <object class="GtkLabel" id="l_preview_hint">
                        <property name="xalign">0</property>
                        <property name="wrap">True</property>
                        <property name="label" translatable="yes">Preview updates immediately. Highlight shows the surface you’re working on.</property>
                      </object>
                    </child>

                  </object>
                </child>
              </object>
            </child>

          </object>
        </child>

        <!-- Bottom nav buttons -->
        <child>
          <object class="GtkButtonBox" id="bb_nav">
            <property name="layout_style">end</property>
            <property name="spacing">8</property>

            <child>
              <object class="GtkButton" id="btn_cancel">
                <property name="label" translatable="yes">Cancel</property>
                <signal name="clicked" handler="on_btn_cancel_clicked" swapped="no"/>
              </object>
            </child>

            <child>
              <object class="GtkButton" id="btn_back">
                <property name="label" translatable="yes">Back</property>
                <signal name="clicked" handler="on_btn_back_clicked" swapped="no"/>
              </object>
            </child>

            <child>
              <object class="GtkButton" id="btn_next">
                <property name="label" translatable="yes">Next</property>
                <property name="can_default">True</property>
                <signal name="clicked" handler="on_btn_next_clicked" swapped="no"/>
              </object>
            </child>

            <child>
              <object class="GtkButton" id="btn_finish">
                <property name="label" translatable="yes">Finish</property>
                <property name="can_default">True</property>
                <property name="sensitive">False</property>
                <signal name="clicked" handler="on_btn_finish_clicked" swapped="no"/>
              </object>
            </child>

          </object>
        </child>

      </object>
    </child>
  </object>
</interface>
