# File: ptx2pdf.sty
# File of modifications to usfm.sty to fix issues
# Only need mrktype if not in the USFM3.1 defined set

\Marker k
\OccursUnder ili ili1 ili2 ili3 ili4 ip im ipi imi ipq imq ipr iq iq1 iq2 iq3 io io1 io2 io3 io4 ms ms1 ms2 s s1 s2 s3 s4 cd sp d li li1 li2 li3 li4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr pmo pm pmc pmr q q1 q2 q3 q4 qc qr qm qm1 qm2 qm3 tr th1 th2 th3 th4 thr1 thr2 thr3 thr4 tc1 tc2 tc3 tc4 tcr1 tcr2 tcr3 tcr4 f fe NEST
\Attributes key

\Marker imt
\OccursUnder id periph
\TextType Section

\Marker imt1
\OccursUnder id periph
\TextType Section

\Marker imt2
\OccursUnder id periph
\TextType Section

\Marker imt3
\OccursUnder id periph
\TextType Section

\Marker imt4
\OccursUnder id periph
\TextType Section

\Marker imte
\OccursUnder id periph
\TextType Section

\Marker imte1
\OccursUnder id periph
\TextType Section

\Marker imte2
\OccursUnder id periph
\TextType Section

\Marker is
\OccursUnder id periph
\TextType Section

\Marker is1
\OccursUnder id periph
\TextType Section

\Marker is2
\OccursUnder id periph
\TextType Section

\Marker iot
\OccursUnder id periph
\TextType Section

\Marker io1
\OccursUnder id periph

\Marker io2
\OccursUnder id periph

\Marker io3
\OccursUnder id periph

\Marker io4
\OccursUnder id periph

\Marker ip
\OccursUnder id periph
\Color 0

\Marker im
\OccursUnder id periph

\Marker ipi
\OccursUnder id periph

\Marker imi
\OccursUnder id periph

\Marker ili
\OccursUnder id periph

\Marker ili1
\OccursUnder id periph

\Marker ili2
\OccursUnder id periph

\Marker ipq
\OccursUnder id periph

\Marker imq
\OccursUnder id periph

\Marker ipr
\OccursUnder id periph

\Marker ib
\OccursUnder id periph

\Marker iq
\OccursUnder id periph

\Marker iq1
\OccursUnder id periph

\Marker iq2
\OccursUnder id periph

\Marker iq3
\OccursUnder id periph

\Marker iex
\OccursUnder id periph
\TextType BodyText

\Marker ie
\OccursUnder id periph

\Marker mt
\OccursUnder id periph

\Marker mt1
\OccursUnder id periph

\Marker mt2
\OccursUnder id periph

\Marker mt3
\OccursUnder id periph

\Marker mt4
\OccursUnder id periph

\Marker p
\OccursUnder c periph esb id

\Marker m
\OccursUnder c periph esb

\Marker ms
\OccursUnder c periph esb

\Marker b
\OccursUnder c periph esb

\Marker ib
\OccursUnder imt imt1 imt2 imt3 imt4 ib ie ili ili1 ili2 im imi imq io io1 io2 io3 io4 iot ip ipi ipq ipr iq iq1 iq2 iq3 is is1 is2 imte imte1 imte2 iex id NEST
\LineSpacing 1.0

\Marker pi
\OccursUnder c periph esb id

\Marker pi1
\OccursUnder c periph esb

\Marker pi2
\OccursUnder c periph esb

\Marker pi3
\OccursUnder c periph esb

\Marker pc
\OccursUnder c periph esb

\Marker mi
\OccursUnder c periph esb

\Marker nb
\OccursUnder c periph esb

\Marker pn
\Underline - 

\Marker nd
\Underline - 

\Marker s
\OccursUnder c periph esb

\Marker s1
\OccursUnder c periph esb

\Marker s1e
\OccursUnder c periph esb

\Marker s2
\OccursUnder c periph esb

\Marker s2e
\OccursUnder c periph esb

\Marker s3
\OccursUnder c periph esb

\Marker s3e
\OccursUnder c periph esb

\Marker s4
\OccursUnder c periph esb

\Marker s4e
\OccursUnder c periph esb

\Marker sr
\OccursUnder c periph esb s s1 s2 s3 s4

\Marker d
\TextType Section

\Marker lh
\OccursUnder c periph esb

\Marker li
\OccursUnder c periph esb id

\Marker li1
\OccursUnder c periph esb id

\Marker li2
\OccursUnder c periph esb id

\Marker li3
\OccursUnder c periph esb id

\Marker li4
\OccursUnder c periph esb id

\Marker pb
\Name pb - Other - Page Break
\OccursUnder c periph esb id

\Marker q
\OccursUnder c periph esb id
\Justification LeftBal
\NonJustifiedFill 0.5

\Marker q1
\OccursUnder c periph esb id
\Justification LeftBal
\NonJustifiedFill 0.5

\Marker q2
\OccursUnder c periph esb id
\Justification LeftBal
\NonJustifiedFill 0.5

\Marker q3
\OccursUnder c periph esb id
\Justification LeftBal
\NonJustifiedFill 0.5

\Marker q4
\OccursUnder c periph esb id
\Justification LeftBal
\NonJustifiedFill 0.5

\Marker pi
\OccursUnder c esb ms ms1 ms2 s s1 s2 s3 s4 ip periph

\Marker pi1
\OccursUnder c esb ms ms1 ms2 s s1 s2 s3 s4 ip periph

\Marker pi2
\OccursUnder c esb ms ms1 ms2 s s1 s2 s3 s4 ip periph

\Marker pi3
\OccursUnder c esb ms ms1 ms2 s s1 s2 s3 s4 ip periph

\Marker tr
\OccursUnder c esb ms ms1 ms2 s s1 s2 s3 s4 ip id periph
\LeftMargin 0

# ptx2pdf treats texttype Other as Section if not intro marker

\Marker p1
\OccursUnder id periph esb
\TextType VerseText

\Marker p2
\OccursUnder id periph esb
\TextType VerseText

\Marker v
\OccursUnder li li1 li2 li3 li4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr pmo pm pmc pmr q q1 q2 q3 q4 qc qr qm qm1 qm2 qm3 tr tc1 tc2 tc3 tc4 tcr1 tcr2 tcr3 tcr4 s3 d sp qt dc wj no it bd bdit em sc
\LeftMargin 0.05

\Marker f
\Fontsize 10
\LineSpacing 0.833
\OccursUnder c cp lh li li1 li2 li3 li4 lf lim lim1 lim2 lim3 lim4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr pmo pm pmc pmr po q q1 q2 q3 q4 qc qr qt qd qm qm1 qm2 qm3 qs sp tc1 tc2 tc3 tc4 mt mt1 mt2 mt3 ms ms1 ms2 ms3 s s1 s2 s3 d ip

\Marker fr
\FontScale 1

\Marker fp
\StyleType Paragraph
\FontScale 1

\Marker fq
\FontScale 1

\Marker fqa
\FontScale 1

\Marker fk
\FontScale 1

\Marker ft
\FontScale 1

\Marker fv
\FontScale 1

\Marker fm
\FontScale 1

\Marker fdc
\FontScale 1

\Marker x
\FontSize 10
\LineSpacing 0.833
\OccursUnder c lh li li1 li2 li3 li4 lf lim lim1 lim2 lim3 lim4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr pmo pm pmc pmr po q q1 q2 q3 q4 qc qr qt qd qm qm1 qm2 qm3 qs sp tc1 tc2 tc3 tc4 mt mt1 mt2 mt3 ms ms1 ms2 s s1 s2 s3 d

\Marker xo
\FontScale 1

\Marker xq
\FontScale 1

\Marker xk
\FontScale 1

\Marker xdc
\FontScale 1

\Marker xot
\FontScale 1

\Marker xnt
\FontScale 1

\Marker xt
\FontScale 1

\Marker iqt
\OccursUnder imt imt1 imt2 imt3 imt4 ib ie ili ili1 ili2 im imi imq io io1 io2 io3 io4 iot ip ipi ipq ipr iq iq1 iq2 iq3 is is1 is2 imte imte1 imte2 iex id NEST

\Marker pmo
\OccursUnder m mi nb p pc ph phi pi pi1 pi2 pi3 pr po q q1 q2 q3 q4 qc qr s1 s2 s3 s4

\Marker pm
\OccursUnder m mi nb p pc ph phi pi pi1 pi2 pi3 pr po psi q q1 q2 q3 q4 qc qr b s1 s2 s3 s4

\Marker pmc
\OccursUnder m mi nb p pc ph phi pi pi1 pi2 pi3 pr po q q1 q2 q3 q4 qc qr b s1 s2 s3 s4

\Marker qs
\OccursUnder q q1 q2 q3 q4 qc qr qd NEST

\Marker rq
\OccursUnder ip im ipi imi ipq imq ipr iq iq1 iq2 iq3 lh li li1 li2 li3 li4 lf lim lim1 lim2 lim3 lim4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr pmo pm pmc pmr po q q1 q2 q3 q4 qc qr qd qm qm1 qm2 qm3 sp tr th1 th2 th3 th4 thr1 thr2 thr3 thr4 tc1 tc2 tc3 tc4 tcr1 tcr2 tcr3 tcr4 ms ms1 ms2 s s1 s2 s3 d ip f fe NEST

\Marker pro
\OccursUnder ip im ipi imi ipq imq ipr iq iq1 iq2 iq3 lh li li1 li2 li3 li4 lf lim lim1 lim2 lim3 lim4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr pmo pm pmc pmr po q q1 q2 q3 q4 qc qr qd qm qm1 qm2 qm3 sp tr th1 th2 th3 th4 thr1 thr2 thr3 thr4 tc1 tc2 tc3 tc4 tcr1 tcr2 tcr3 tcr4 ms ms1 ms2 s s1 s2 s3 d ip f fe NEST

\Marker wr
\OccursUnder ms s lh li li1 li2 li3 li4 lf lim lim1 lim2 lim3 lim4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr po q q1 q2 q3 q4 qc qr qd tc1 tc2 tc3 tc4 f fe NEST
\mrktype char

\Marker wh
\FontName Ezra SIL
\FontScale 1
\mrktype char

\Marker wg
\FontName Galatia SIL
\FontScale 1
\mrktype char

\Marker wl
\Endmarker wl*
\Name wl...wl* - Peripheral Ref - Latin transcription
\Description A Latin transcription
\OccursUnder ip im ipi imi ipq imq ipr iq iq1 iq2 iq3 io io1 io2 io3 io4 ms ms1 ms2 s s1 s2 s3 s4 cd sp d lh li li1 li2 li3 li4 lf lim lim1 lim2 lim3 lim4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr pmo pm pmc pmr po q q1 q2 q3 q4 qc qr qd qm qm1 qm2 qm3 tr th1 th2 th3 th4 thr1 thr2 thr3 thr4 tc1 tc2 tc3 tc4 tcr1 tcr2 tcr3 tcr4 f fe ef erq esb x ex NEST
\TextType VerseText
\TextProperties publishable vernacular
\StyleType Character
\FontName Charis SIL
\FontScale 1
\mrktype char

\Marker fig
\FontSize 11
\Italic

\Marker periph
\OccursUnder id
\Attributes id

\Marker rem
\OccursUnder id ide c periph esb

\Marker rb
\StyleType Character
\TextProperties publishable vernacular
\LineSpacing 0.5
\mrktype char

\Marker it
\OccursUnder NEST cd d ef f fe im imi imq io io1 io2 io3 io4 ip ipi ipq ipr iq iq1 iq2 iq3 lf lh li li1 li2 li3 li4 lim lim1 lim2 lim3 lim4 m mi ms ms1 ms2 nb p pc ph phi pi pi1 pi2 pi3 pm pmc pmo pmr po pr q q1 q2 q3 q4 qc qd qm qm1 qm2 qm3 qr s s1 s2 s3 s4 sp tc1 tc2 tc3 tc4 tcr1 tcr2 tcr3 tcr4 th1 th2 th3 th4 thr1 thr2 thr3 thr4 tr x
\FontScale 1
\mrktype char

\Marker sc
\OccursUnder ip im ipi imi ipq imq ipr iq iq1 iq2 iq3 io io1 io2 io3 io4 ms ms1 ms2 s s1 s2 s3 s4 cd sp d lh li li1 li2 li3 li4 lf lim lim1 lim2 lim3 lim4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr pmo pm pmc pmr po q q1 q2 q3 q4 qc qr qd qm qm1 qm2 qm3 tr th1 th2 th3 th4 thr1 thr2 thr3 thr4 tc1 tc2 tc3 tc4 tcr1 tcr2 tcr3 tcr4 f fe ef x NEST
\FontScale 1
\mrktype char

\Marker no
\FontScale 1
\mrktype char

\Marker bd
\FontScale 1
\mrktype char

\Marker bdit
\FontScale 1
\mrktype char

\Marker em
\FontScale 1
\mrktype char

\Marker cat
\TextProperties nonvernacular
\OccursUnder ef esb ili ili1 ili2 ili3 ili4 ip im ipi imi ipq imq ipr iq iq1 iq2 iq3 io io1 io2 io3 io4 ms ms1 ms2 s s1 s2 s3 s4 cd sp d li li1 li2 li3 li4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr pmo pm pmc pmr q q1 q2 q3 q4 qc qr qm qm1 qm2 qm3 tr th1 th2 th3 th4 thr1 thr2 thr3 thr4 tc1 tc2 tc3 tc4 tcr1 tcr2 tcr3 tcr4 f fe 

# Modules markers
\Marker err
\Endmarker err*
\Name OBSOLETE err...err* - Module Error
\Description An error in a module file
\mrktype char
\OccursUnder id c vrs inc ref rep mod
\TextProperties nonpublishable nonvernacular
\TextType Other
\StyleType Character
\FontSize 12
\Color 00000255

\Marker inc
\Name Module Include Options
\Description Options for including stuff in modules
\mrktype versepara
\Rank 4
\TextProperties paragraph nonpublishable nonvernacular
\TextType Other
\FontSize 12
\StyleType Paragraph

\Marker vrs
\Name Module Versification 
\Description Specifies the versification used in a module
\mrktype otherpara
\Rank 4
\TextProperties paragraph nonpublishable nonvernacular
\TextType Other
\FontSize 12
\StyleType Paragraph

\Marker ref
\Name Module Verse Reference
\Description Included verse references in modules
\mrktype otherpara
\OccursUnder id
\Rank 4
\TextProperties paragraph nonpublishable nonvernacular
\TextType Other
\FontSize 12
\Attributes loc 
\StyleType Paragraph

\Marker ref
\Name Scripture reference
\Description Scripture reference. For marking scripture references, with an optional machine-readable target location.
\mrktype char
\OccursUnder xt ft p
\Rank 4
\TextProperties paragraph publishable nonvernacular
\TextType Other
\FontSize 12
\StyleType Character

\Marker refnp
\Name Module Verse Reference No Paragraphs
\Description Included verse references in modules with no paragraph markers
\mrktype otherpara
\OccursUnder id
\Rank 4
\TextProperties paragraph nonpublishable nonvernacular
\TextType Other
\FontSize 12
\StyleType Paragraph

\Marker rep
\Name Module Text Replacement
\Description Replaces text included in modules
\mrktype otherpara
\Rank 4
\TextProperties paragraph nonpublishable nonvernacular
\TextType Other
\FontSize 12
\StyleType Paragraph

\Marker mod
\Name Module Import
\Description Includes another module in modules
\mrktype otherpara
\Rank 4
\TextProperties paragraph nonpublishable nonvernacular
\TextType Other
\FontSize 12
\StyleType Paragraph

\Marker qt-s
\OccursUnder id p c q1 q2 q3

# Standalones

\Marker ampersand
\StyleType Standalone
\mrktype barems

\Marker asterisk
\StyleType Standalone
\mrktype barems

\Marker circumflex
\StyleType Standalone
\mrktype barems

\Marker dollar
\StyleType Standalone
\mrktype barems

\Marker dopagenums
\StyleType Standalone
\mrktype barems

\Marker zfooter
\Name zfooter - File - Header
\Description Running footer styling for a book (basic) if different to running header
\mrktype header
\OccursUnder 
\Rank 1
\TextType Other
\TextProperties paragraph publishable vernacular
\StyleType Character

\Marker hash
\StyleType Standalone
\mrktype barems

\Marker nopagenums
\StyleType Standalone
\mrktype barems

\Marker percent
\StyleType Standalone
\mrktype barems

\Marker resetpagenums
\StyleType Standalone
\mrktype barems

\Marker space
\StyleType Standalone
\mrktype barems

\Marker zNeedOddPage
\StyleType Standalone
\mrktype barems

\Marker zNeedEvenPage
\StyleType Standalone
\mrktype barems

\Marker zNeedQuadPage
\StyleType Standalone
\mrktype barems


# local additions

\Marker xtd
\Name xtd - Cross Reference - Semantic Domain
\Description Embedded italics references
\Endmarker xtd*
\mrktype char
\OccursUnder x xt
\TextProperties vernacular publishable
\TextType NoteText
\StyleType Character

\Marker xtl
\Name xtl - Cross Reference - Label
\Description Embedded italics references
\Endmarker xtl*
\mrktype char
\OccursUnder x xt
\TextProperties vernacular publishable
\TextType NoteText
\StyleType Character

\Marker xtn
\Name xtn - Cross Reference - Semantic Domain Number
\Description Embedded italics references
\Endmarker xtn*
\mrktype char
\OccursUnder x xt
\TextProperties vernacular publishable
\TextType NoteText
\StyleType Character

\Marker xts
\Name xts - Cross Reference - Strong's reference as 4 digit cell
\Description Strong's 4 digit cell
\mrktype milestone
\OccursUnder x xt
\TextType NoteText
\TextProperties vernacular publishable
\StyleType Milestone
\FontSize 5.4
\LineSpacing 0.33
\Attributes strongs ?align ?strong 

\Marker xtr
\Name xtr - Cross Reference - Styled Reference
\Description Embedded italics references
\Endmarker xtr*
\mrktype char
\OccursUnder x xt
\TextProperties vernacular publishable
\TextType NoteText
\StyleType Character
\Italic

\Marker xti
\Name xti - Cross Reference - Embedded italics
\Description Embedded italics references
\Endmarker xti*
\mrktype char
\mrktype char
\OccursUnder x xt
\TextProperties vernacular publishable
\TextType NoteText
\StyleType Character
\Italic

\Marker gloss|rb
\Name gloss|rb - Special Text - Ruby Gloss
\Description Gloss component of a ruby string either for interlinear or ruby
\mrktype char
\OccursUnder rb
\TextProperties vernacular publishable
\TextType VerseText 
\StyleType Character
\LineSpacing 0.4

\Marker zthumbtab
\Name zthumbtab - File - ThumbTab text
\Description Book abbreviation for Thumb Tabs
\mrktype header
\OccursUnder id
\Rank 1
\TextType Other
\TextProperties paragraph publishable vernacular
\StyleType Paragraph
\FontSize 12
\Bold
\Italic
\Color 128

\Marker cat:colophon|esb
\Position B

\Marker zimagecopyrights
\Name zimagecopyrights - Auxiliary - Image copyrights statements
\Description Image copyrights statements for use in FRT matter or colophon
\mrktype otherpara
\StyleType Paragraph
\TextProperties paragraph publishable

\Marker zfiga
\Name Figure anchor
\Name zfiga - Milestones - Anchor for peripheral pictures  
\Description Anchor point for piclist when there are no verse refs to anchor to
\mrktype milestone
\OccursUnder imt imt1 imt2 imt3 imt4 imte imte1 imte2 is is1 is2 ili ili1 ili2 ip im ipi imi ipq imq ipr iq iq1 iq2 iq3 io io1 io2 io3 io4 ms ms1 ms2 s s1 s2 s3 s4 cd sp d lh li li1 li2 li3 li4 lf lim lim1 lim2 lim3 lim4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr pmo pm pmc pmr po q q1 q2 q3 q4 qc qr qd qm qm1 qm2 qm3 tr th1 th2 th3 th4 thr1 thr2 thr3 thr4 tc1 tc2 tc3 tc4 tcr1 tcr2 tcr3 tcr4 f fe 
\StyleType Milestone
\Attributes id

\Marker zifvarset
\Name Conditional text
\Name zifhook - Milestones - Optional text output (ztruetext,zfalsetext) based on whether the named variable is set / non-empty
\Description Anchor point for piclist when there are no verse refs to anchor to
\mrktype milestone
\OccursUnder imt imt1 imt2 imt3 imt4 imte imte1 imte2 is is1 is2 ili ili1 ili2 ip im ipi imi ipq imq ipr iq iq1 iq2 iq3 io io1 io2 io3 io4 ms ms1 ms2 s s1 s2 s3 s4 cd sp d lh li li1 li2 li3 li4 lf lim lim1 lim2 lim3 lim4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr pmo pm pmc pmr po q q1 q2 q3 q4 qc qr qd qm qm1 qm2 qm3 tr th1 th2 th3 th4 thr1 thr2 thr3 thr4 tc1 tc2 tc3 tc4 tcr1 tcr2 tcr3 tcr4 f fe 
\StyleType Milestone
\Attributes var emptyok 

\Marker zifhook
\Name Conditional text
\Name zifhook - Milestones - Optional text output (ztruetext,zfalsetext) if there are any hooks set on a marker
\Description Anchor point for piclist when there are no verse refs to anchor to
\mrktype milestone
\OccursUnder imt imt1 imt2 imt3 imt4 imte imte1 imte2 is is1 is2 ili ili1 ili2 ip im ipi imi ipq imq ipr iq iq1 iq2 iq3 io io1 io2 io3 io4 ms ms1 ms2 s s1 s2 s3 s4 cd sp d lh li li1 li2 li3 li4 lf lim lim1 lim2 lim3 lim4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr pmo pm pmc pmr po q q1 q2 q3 q4 qc qr qd qm qm1 qm2 qm3 tr th1 th2 th3 th4 thr1 thr2 thr3 thr4 tc1 tc2 tc3 tc4 tcr1 tcr2 tcr3 tcr4 f fe 
\StyleType Milestone
\Attributes marker 

\Marker ztruetext
\Endmarker ztruetext*
\Name ztruetext - Other - Text to output if the zifhook test is true
\Description Conditional text - true result
\mrktype char
\OccursUnder imt imt1 imt2 imt3 imt4 imte imte1 imte2 is is1 is2 ili ili1 ili2 ip im ipi imi ipq imq ipr iq iq1 iq2 iq3 io io1 io2 io3 io4 ms ms1 ms2 s s1 s2 s3 s4 cd sp d lh li li1 li2 li3 li4 lf lim lim1 lim2 lim3 lim4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr pmo pm pmc pmr po q q1 q2 q3 q4 qc qr qd qm qm1 qm2 qm3 tr th1 th2 th3 th4 thr1 thr2 thr3 thr4 tc1 tc2 tc3 tc4 tcr1 tcr2 tcr3 tcr4 f fe 
\TextProperties vernacular publishable
\TextType NoteText
\StyleType Character

\Marker zfalsetext
\Endmarker zfalsetext*
\Name zfalsetext - Other - Text to output if the zifhook test is false
\Description Conditional text - false result
\mrktype char
\OccursUnder imt imt1 imt2 imt3 imt4 imte imte1 imte2 is is1 is2 ili ili1 ili2 ip im ipi imi ipq imq ipr iq iq1 iq2 iq3 io io1 io2 io3 io4 ms ms1 ms2 s s1 s2 s3 s4 cd sp d lh li li1 li2 li3 li4 lf lim lim1 lim2 lim3 lim4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr pmo pm pmc pmr po q q1 q2 q3 q4 qc qr qd qm qm1 qm2 qm3 tr th1 th2 th3 th4 thr1 thr2 thr3 thr4 tc1 tc2 tc3 tc4 tcr1 tcr2 tcr3 tcr4 f fe 
\TextProperties vernacular publishable
\TextType NoteText
\StyleType Character

\Marker ztoc
\Name ztoc - Milestones - Table Of Contents 
\mrktype milestone
\OccursUnder id periph
\StyleType Milestone
\TextProperties vernacular publishable
\Attributes id

\Marker zfillsignature
\Name zfillsignature - Milestones - Emit empty pages until a signature is full
\mrktype milestone
\OccursUnder id periph
\StyleType Milestone
\TextProperties other publishable
\Attributes pages pagenums? periph?

\Marker zvar
\Name zvar - Milestones - Variable expansion
\mrktype milestone
\OccursUnder *
\StyleType Milestone
\TextProperties vernacular publishable
\Attributes id

\Marker zgetperiph
\Name zgetperiph - Milestones - Peripheral inclusion
\mrktype milestone
\OccursUnder *
\StyleType Milestone
\TextProperties vernacular publishable
\Attributes id

\Marker zISBNbarcode
\Name zISBNbarcode - Milestones - Generate ISBN barcode with optional pricecode
\mrktype milestone
\Description Attributes font and fontheight specifies the numbers below the barcode, to which everything is scaled. Valid height values: normal medium short, price is the text string for the price barcode, pricecode is the 5-digit EAN5 for the currency and price. Consult local standards or wikipedia.
\OccursUnder *
\StyleType Milestone
\TextProperties vernacular publishable
%Show a 10 or 13digit ISBN as an EAN-13 barcode
\Attributes isbn height? var? font? fontheight? price? pricecode?

\Marker x-credit
\Name x-credit - Auxiliary - Figure credit box styling
\Description Styles the credit box for a figure
\mrktype char
\TextProperties vernacular publishable
\OccursUnder None
\FontName Charis SIL
\FontSize 5

\Marker Dark|x-credit
\Name Dark|x-credit - Auxiliary - Figure credit box styling
\Description Override styling for the "Dark" credit box for a figure. The parent style (source of defaults) is x-credit.
\FontScale 1
\OccursUnder None
\Color xFFFFFE
\Background x000000

\Marker Light|x-credit
\Name Light|x-credit - Auxiliary - Figure credit box styling
\Description Override styling for the "Light" credit box for a figure. The parent style (source of defaults) is x-credit.
\OccursUnder None
\FontScale 1
\Color x000000
\Background xFFFFFE

\Marker None|x-credit
\Name None|x-credit - Auxiliary - Figure credit box styling
\Description Override styling for the "None" credit box for a figure.  The parent style (source of defaults) is x-credit.
\OccursUnder None
\FontScale 1
\Color x000000
\Background -

\Marker toc3
\mrktype header
\Color xFFFFFE

\Marker zbl
\Name zbl - Milestones - Multiple Blank Lines
\Description
\mrktype milestone
\OccursUnder id periph
\StyleType Milestone

\Marker zrule
\Name zrule - Milestones - Horizontal Rule
\Description
\mrktype milestone
\OccursUnder id periph mt p
\Attributes width align
\StyleType Milestone
\TextProperties publishable
\BorderStyle plain

\Marker zmakeinsert
\Name zmakeinsert - Milestones - Flag current periph as insert for separate printing.
\Description Flags the current periph as a section to be pulled from the normal print-run separately and re-inserted. If nopagecount is "T", then page-counting halts for this item.
\mrktype milestone
\OccursUnder id periph mt p
\Attributes id nopagecount
\StyleType Milestone
\TextProperties publishable
\BorderStyle plain
\Marker zrule
\Name zrule - Milestones - Horizontal Rule
\Description
\OccursUnder id periph mt p
\Attributes width align
\StyleType Milestone
\TextProperties publishable
\BorderStyle plain

\Marker zmvm
\Name zmvm - Chapters & Verses - In text marginal verse marker style
\Endmarker zmvm*
\mrktype char
\StyleType Character
\TextProperties publishable

\Marker zqrcode
\Name zqrcode - Milestones - Insert QR code
\Description Generates a QR-code from attribute data (which may not contain double-quotes), with the specified size (or from FontSize, if cat is provided).  pgpos can be 'H' (a simple box, here), or any valid figure position. vmin specifies a minimum version number (complexity) for the QR code, otherwise it will autosize. At present there is an incompatibility, with the QR code generator assuming that it will get data byte by byte, but XeTeX providing it character by character.  If unicode is set to "T" (true), then the provided data will be written out to a separate file and re-read, byte by byte.
\mrktype milestone
\OccursUnder id periph mt p
\Attributes data size? pgpos? vmin? vmax? unicode? cat? spacebeside? colour? color? bgcolour? bgcolor? 
\StyleType Milestone
\TextProperties publishable

\Marker zgap
\Name zgap - Milestones - Vertical gap
\Description
\mrktype milestone
\OccursUnder id periph mt p
\Attributes dimension
\StyleType Milestone

\Marker zsetref
\Name zsetref - Milestones - Set book/chapter/verse reference
\Description Set up bookid/book/chapter/verse so that triggers can be fired correctly in modules, etc.
\mrktype milestone
\OccursUnder id periph mt p ef esb ili ili1 ili2 ili3 ili4 ip im ipi imi ipq imq ipr iq iq1 iq2 iq3 io io1 io2 io3 io4 ms ms1 ms2 s s1 s2 s3 s4 cd sp d li li1 li2 li3 li4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr pmo pm pmc pmr q q1 q2 q3 q4 qc qr qm qm1 qm2 qm3 tr th1 th2 th3 th4 thr1 thr2 thr3 thr4 tc1 tc2 tc3 tc4 tcr1 tcr2 tcr3 tcr4 f fe 
\Attributes bkid? book? chapter? verse?
\StyleType Milestone

\Marker zlabel
\Name zlabel - Milestones - Remember the page number for this place
\Description
\mrktype milestone
\OccursUnder id periph esb
\TextProperties vernacular publishable
\Attributes id
\StyleType Milestone

\Marker zpage
\Name zpage - Milestones - Page number for label
\Description
\mrktype milestone
\OccursUnder id periph esb
\Attributes label
\TextProperties vernacular publishable
\StyleType Milestone

\Marker zref
\Name zref - Milestones - Chapter/Verse for label
\Description
\mrktype milestone
\OccursUnder id periph esb
\Attributes label show?
\TextProperties vernacular publishable
\StyleType Milestone

\Marker zcustommark
\Name zcustommark - Milestones - Remember something for header/footer/etc
\Description
\mrktype milestone
\OccursUnder imt imt1 imt2 imt3 imt4 imte imte1 imte2 is is1 is2 ili ili1 ili2 ip im ipi imi ipq imq ipr iq iq1 iq2 iq3 io io1 io2 io3 io4 ms ms1 ms2 s s1 s2 s3 s4 cd sp d lh li li1 li2 li3 li4 lf lim lim1 lim2 lim3 lim4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr pmo pm pmc pmr po q q1 q2 q3 q4 qc qr qd qm qm1 qm2 qm3 tr th1 th2 th3 th4 thr1 thr2 thr3 thr4 tc1 tc2 tc3 tc4 tcr1 tcr2 tcr3 tcr4 f fe 
\Attributes value type?
\StyleType Milestone

\Marker zcustomtopmark
\Name zcustomtopmark - Milestones - Use the custom top mark (header only)
\Description
\mrktype milestone
\OccursUnder h
\Attributes type
\StyleType Milestone

\Marker zcustombotmark
\Name zcustombotmark - Milestones - Use the custom top mark (header only)
\Description
\mrktype milestone
\OccursUnder h
\Attributes type
\StyleType Milestone

\Marker zcustomfirstmark
\Name zcustomfirstmark - Milestones - Use the custom bot mark (header only)
\Description
\mrktype milestone
\OccursUnder h
\Attributes type
\StyleType Milestone

\Marker zornament
\Name zornament - Milestones - Insert an ornament
\Description
\mrktype milestone
\OccursUnder imt imt1 imt2 imt3 imt4 imte imte1 imte2 is is1 is2 ili ili1 ili2 ip im ipi imi ipq imq ipr iq iq1 iq2 iq3 io io1 io2 io3 io4 ms ms1 ms2 s s1 s2 s3 s4 cd sp d lh li li1 li2 li3 li4 lf lim lim1 lim2 lim3 lim4 m mi nb p pc ph phi pi pi1 pi2 pi3 pr pmo pm pmc pmr po q q1 q2 q3 q4 qc qr qd qm qm1 qm2 qm3 tr th1 th2 th3 th4 thr1 thr2 thr3 thr4 tc1 tc2 tc3 tc4 tcr1 tcr2 tcr3 tcr4 f fe 
\Attributes pattern size?
\StyleType Milestone

\Marker textborder
\Name textborder - Other - Border around verse text of page
\Description When publishable this puts a border around the main portion of the page. BorderStyle can be set to plain, double or ornamental styles from standardborders.sty can be used, with the ornaments plugin.
\mrktype header
\TextProperties nonpublishable nonvernacular
\OccursUnder id
\Border All
\BorderStyle Vectorian2
\BorderWidth 14
\BoxPadding 0
\BorderTPadding 5
\BorderBPadding 10
\BorderHPadding 3
\BorderLineWidth 0.3
\BorderFillColour 1.0 0.7 0.0
\BorderColour 0 0.6 0
\TextType Other

\Marker id:INT|textborder
\TextProperties nonpublishable 

\Marker id:GLO|textborder
\TextProperties nonpublishable 

\Marker id:GLO|p
\Name id:GLO|p - Paragraph - Hanging indented glossary entry
\Description Glossary Paragraph text, hanging indent
\TextType VerseText
\StyleType Paragraph
\FirstLineIndent -0.2
\LeftMargin 0.2
\NonJustifiedFill 0.25
\Occursunder id c esb periph

\Marker strong-s
\Name strong-s - Milestones - Start Strong's list context
\Endmarker strong-e
\mrktype milestone
\TextProperties vernacular publishable
\OccursUnder id
\StyleType Milestone

\Marker strong-s+li
\Name strong-s+li - Strong's - List Entry in Strong's
\Description A list entry in Strong's
\OccursUnder id
\TextType VerseText
\TextProperties paragraph publishable vernacular
\StyleType paragraph
\LeftMargin .2
\FirstLineIndent -.15
\FontSize 9
\Justification LeftBal

\Marker strong-s+m
\Name strong-s+m - Strong's - Margin Paragraph in Strong's
\Description Margin Paragraph in Strong's
\Occursunder id
\TextType VerseText
\StyleType Paragraph
\FontSize 9
\Justification LeftBal
\FirstLineIndent 0
\LeftMargin 0
\LineSpacing 1

\Marker wg+strong-s
\Name wg+strong-s - Strong's - Greek text in Strong's
\StyleType Character
\FontSize 9

\Marker wh+strong-s
\Name wh+strong-s - Strong's - Hebrew text in Strong's
\StyleType Character
\FontSize 9

\Marker wl+strong-s
\Name wl+strong-s - Strong's - Transliterated text in Strong's
\StyleType Character
\FontSize 9

\Marker xt+strong-s
\Name xt+strong-s - Strong's - Cross-references in Strong's
\StyleType Character
\FontSize 9

\Marker k+strong-s
\Name k+strong-s - Strong's - Vernacular renderings in Strong's
\StyleType Character
\FontSize 9

\Marker cat:toc|tr
\Name tr - Tables - Styling of tr in Table of Contents
\FontSize 12
\LeftMargin .25
\RightMargin .25

\Marker cat:toc|tc1
\Name tc1 - Tables - Styling for TOC tc1
\Justification LeftBal
\LeftMargin 0.25
\FirstLineIndent -0.25

\Marker cat:box|esb
\Name cat:box - Peripherals - Category for putting material in a box
\Position p
\Border All

\Marker zglm
\Description Format of the floor brackets used in glossary markup
\mrktype char
\TextType Other
\StyleType Character
\Endmarker zglm*
\Name zglm - Peripheral Ref - glossary marker floor brackets
\Occursunder NEST id m q2 p v q1
\ztexFontFeatures :extend=0.9

\Marker zpmkr
\Description Format USFM marker label
\mrktype char
\TextType Other
\StyleType Character
\Endmarker zpmkr*
\Name zpmkr - Character Styling - Format USFM marker label
\Occursunder NEST id m q2 p v q1
\FontName Source Code Pro
\FontSize 8
\Color x7F0000

\Marker th1 
\RightMargin 0.1
\Marker th2 
\RightMargin 0.1
\Marker th3 
\RightMargin 0.1
\Marker th4 
\RightMargin 0.1
\Marker th5 
\RightMargin 0.1
\Marker th6 
\RightMargin 0.1
\Marker th7 
\RightMargin 0.1
\Marker th8 
\RightMargin 0.1
\Marker tc1 
\RightMargin 0.1
\Marker cat:toc|tc1 
\RightMargin 0.0
\Marker tc2 
\RightMargin 0.1
\Marker tc3 
\RightMargin 0.1
\Marker tc4 
\RightMargin 0.1
\Marker tc5 
\RightMargin 0.1
\Marker tc6 
\RightMargin 0.1
\Marker tc7 
\RightMargin 0.1
\Marker tc8 
\RightMargin 0.1

\Marker toc1
\OccursUnder id

\Marker toc2
\OccursUnder id

\Marker toc3
\OccursUnder id

\Marker ldrs
\Endmarker ldrs*
\Name ldrs...ldrs* - Tables - Table of Contents leaders styling
\mrktype char
\Description Styling for leaders in table of contents
\OccursUnder p
\TextType Other
\TextProperties publishable vernacular
\StyleType Character

# Typesetting extensions

\Marker cat:coverwhole|esb
\Name cat:coverwhole - Cover - Category for styling the whole of the combined cover pagef
\Position Fcf
\BgColor 1 1 1
\Alpha 1
\Border None

\Marker cat:coverspine|esb
\Name cat:coverspine - Cover - Category for styling the spine of the cover
\Position Fcf
\Alpha 0.0
\BoxPadding 0
\BorderPadding -1
\Rotation r
\BgColor 1 1 1
\Border None

\Marker cat:coverfront|esb
\Name cat:coverfront - Cover - Category for styling the outside front cover 
\Position Fcf
\Alpha 0.0
\BgColor 1 1 1
\BoxPadding 0
\BorderPadding -2
\BorderFillColour None
\BorderLineWidth 0.5
\BorderWidth 22
\BoxVPadding 45
\BoxHPadding 45
\BorderHPadding -40
\BorderVPadding -40
\Border None

\Marker cat:coverback|esb
\Name cat:coverfront - Cover - Category for styling the outside back cover 
\Position Fcf
\Alpha 0.0
\BgColor 1 1 1
\BoxPadding 0
\BorderPadding -0
\BorderFillColour None
\BorderLineWidth 0.5
\BorderPadding -15
\BorderWidth 5
\Border None 

\Marker cat:coverback|m
\Name cat:coverback|m - Cover - Styling for the promotional text on the back cover
\TextType BodyText
\StyleType Paragraph
\Bold
\FontSize 14
\FirstLineIndent 0
\LeftMargin 0.9
\RightMargin 0.9
\LineSpacing 1.25
\SpaceBefore 0
\SpaceAfter 2.4
\NonJustifiedFill 0.25
\Description Promotional text on the back cover
\Occursunder id

\Marker cat:ISBNbox|esb
\Name cat:ISBNbox - Cover - Category for styling the ISBN box 
\Position hc
\SpaceBefore 100
\SpaceAfter 0
\BorderWidth 0.05
\BgColor 1 1 1
\BoxHPadding 5
\BoxVPadding 5
\BorderRPadding 0
#\Scale 0.6
\Alpha 1.0
\Border All

\Marker zcolsync
\Name zcolsync - Other - Diglot forced synchronisation point
\mrktype milestone
\OccursUnder c periph esb id p
\Rank 4
\TextType Other
\TextProperties  nonpublishable diglotsync
\StyleType Milestone
\Attributes syncaddr 
\FontSize 12



\Marker cat:coverfront|mt1
\Name cat:coverfront|mt1 - Cover - Styling the main title of the front cover 
\OccursUnder id
\Rank 3
\TextProperties paragraph publishable vernacular level_1
\TextType Title
\StyleType Paragraph
\FontSize 34
\Bold
\Justification Center
\SpaceBefore 2
\SpaceAfter 4

\Marker cat:coverfront|mt2
\Name cat:coverfront|mt2 - Cover - Styling the main title of the front cover 
\OccursUnder id
\Rank 3
\TextProperties paragraph publishable vernacular level_2
\TextType Title
\StyleType Paragraph
\FontSize 27
\Bold
\Justification Center
\SpaceAfter 2

\Marker cat:coverspine|mt1
\Name cat:coverspine|mt1 - Cover - Styling the main title on the spine 
\OccursUnder id
\Rank 3
\TextProperties paragraph publishable vernacular level_1
\TextType Title
\StyleType Paragraph
\FontSize 18
\Bold
\Justification LeftBal
\LeftMargin 1.5
\SpaceAfter -1.2
\SpaceBefore -6

\Marker cat:coverspine|mt2
\Name cat:coverspine|mt2 - Cover - Styling the main title on the spine 
\OccursUnder id
\Rank 3
\TextProperties paragraph publishable vernacular level_2
\TextType Title
\StyleType Paragraph
\FontSize 15
\Bold
\Justification LeftBal
\LeftMargin 1.5
\SpaceAfter -1.2
\SpaceBefore -6

\Marker cat:titlebox|esb
\Name cat:titlebox|esb - Other - Experimental automatic sidebar around title blocks 
\Description When publishable this automatically wraps a title block in this sidebar. This can be used for putting a border around book titles.
\TextProperties nonpublishable nonvernacular
\Position hc
\BgColor 1 1 0.5
\Border All
\BorderFillColour 1 0.8 0
\BorderStyle double
\BorderPadding -15
\BoxPadding 20
\BorderWidth 5
\OccursUnder id
\TextType Other



\Marker cat:headingsbox|esb
\Name cat:headingsbox|esb - Other - Experimental automatic sidebar around heading blocks 
\Description When publishable this automatically wraps a block of headings in this sidebar. This can be used for putting a background and / or border around section headings, and also setting them as cut-outs.
\TextProperties nonpublishable nonvernacular
\Position hc
\BgColor 0.5 1 0.5
\Border All
\BorderStyle plain
\BorderPadding 0
\BoxPadding 10
\BorderWidth 1
\OccursUnder id
\TextType Other


\Marker zbn
\Name zbn - Auxiliary - Border Numbers/Letters (dark text, dark outline)
\Description The supplied standard map borders use this character style. 
\mrktype char
\FontName Gentium Plus
\FontSize 8
\TextProperties publishable vernacular
\StyleType Character
\TextType Other 
\Color x000000
\OutlineColour xfffffe
\Outline 1

\Marker zbn2
\Name zbn - Auxiliary - Border Numbers/Letters (light text, dark outline)
\Description The supplied standard map borders use this character style. 
\mrktype char
\FontName Gentium Plus
\FontSize 8
\TextProperties publishable vernacular
\StyleType Character
\TextType Other 
\Outline 1
\Color xfefefe
\OutlineColour x000000
